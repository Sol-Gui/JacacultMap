import React, { useState } from 'react';
import {
  View,
  Text,
  Modal,
  TouchableOpacity,
  ScrollView,
  Image,
  StyleSheet,
  Alert,
  Share,
  Platform,
} from 'react-native';
import { Ionicons, MaterialIcons, FontAwesome } from '@expo/vector-icons';
import { type Event } from './mainPage';
import { updateUserData } from '../../services/user';
import { Linking } from 'react-native';

interface EventModalProps {
  visible: boolean;
  onClose: () => void;
  event: Event | null;
  theme: any;
  userData: any;
  userToken: string;
}

interface MediaItem {
  id: string;
  type: 'image' | 'video';
  url: string;
  thumbnail?: string;
}

// Dados de exemplo para fotos e v√≠deos
const sampleMedia: MediaItem[] = [
  { id: '1', type: 'image', url: 'https://picsum.photos/300/200?random=1' },
  { id: '2', type: 'image', url: 'https://picsum.photos/300/200?random=2' },
  { id: '3', type: 'video', url: 'https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_1mb.mp4', thumbnail: 'https://picsum.photos/300/200?random=3' },
  { id: '4', type: 'image', url: 'https://picsum.photos/300/200?random=4' },
  { id: '5', type: 'image', url: 'https://picsum.photos/300/200?random=5' },
];

const EventModal: React.FC<EventModalProps> = ({ visible, onClose, event, theme, userData, userToken }) => {
  const [isFavorited, setIsFavorited] = useState(false);

  // Verificar se o evento est√° favoritado
  React.useEffect(() => {
    if (userData?.userData?.favoritedEventsById && event) {
      const favoritedEvents = userData.userData.favoritedEventsById;
      setIsFavorited(favoritedEvents.includes(event.id));
    }
  }, [userData, event?.id]);

  if (!event) return null;

  let headerImage: string;
  try {
    const event_image = event.event_image_header.imageBase64;

    if (event_image && event_image == "NO-IMAGE") {
      headerImage = `data:image/png;base64,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`;
    } else if (event_image) {
      headerImage = `data:image/png;base64,/${event_image}`;
    } else {
      headerImage = 'https://picsum.photos/400/250?random=event';
    }
  } catch (err) {
    headerImage = 'https://picsum.photos/400/250?random=event';
  }

  const openGoogleMaps = (latitude: number, longitude: number) => {
    const url = `https://www.google.com/maps/dir/?api=1&destination=${latitude},${longitude}&travelmode=driving`;
    Linking.openURL(url);
  };
  

  const handleRotas = () => {
    // Implementar navega√ß√£o para o local do evento
    const [ lat, long ] = event.location.coordinates
    console.log('Abrir rotas para:', lat, long);
    openGoogleMaps(lat, long)
  };

  const handleFavoritar = async () => {
    if (!userToken || !userData) {
      Alert.alert('Erro', 'Voc√™ precisa estar logado para favoritar eventos');
      return;
    }

    try {
      // Pegar eventos j√° favoritados
      const currentFavorites = userData.userData?.favoritedEventsById || [];
      const isCurrentlyFavorited = currentFavorites.includes(event.id);

      let updatedFavorites;
      if (isCurrentlyFavorited) {
        // Remove o evento dos favoritos
        updatedFavorites = currentFavorites.filter((id: number) => id !== event.id);
      } else {
        // Adiciona o evento aos favoritos
        updatedFavorites = [...currentFavorites, event.id];
      }

      // Atualizar no backend
      await updateUserData(userToken, { 
        "update": { 
          "favoritedEventsById": updatedFavorites 
        }
      });

      // Atualizar dados locais
      userData.userData.favoritedEventsById = updatedFavorites;
      
      // Atualizar estado visual
      setIsFavorited(!isCurrentlyFavorited);
      
    } catch (error) {
      console.error('Erro ao favoritar evento:', error);
      Alert.alert('Erro', 'N√£o foi poss√≠vel favoritar o evento');
    }
  };

  const handleCompartilhar = async () => {
    try {
      const eventDate = new Date(event.date).toLocaleDateString('pt-BR', {
        day: '2-digit',
        month: '2-digit',
        year: 'numeric',
        hour: '2-digit',
        minute: '2-digit'
      });

      const shareContent = {
        title: `üéâ ${event.title}`,
        message: `Confira este evento incr√≠vel!\n\nüéØ ${event.title}\n\nüìù ${event.description}\n\nüìÖ ${eventDate}\n\nüìç ${event.location?.name || 'Local n√£o informado'}\n\n#JacaCultMap #Eventos #Cultura`,
        url: `https://jacacultmap.com/evento/${event.id}`, // URL fict√≠cia para o evento
      };

      if (Platform.OS === 'web') {
        // Para web, usar Web Share API se dispon√≠vel
        if (navigator.share) {
          await navigator.share(shareContent);
        } else {
          // Fallback para web - copiar para clipboard
          const textToCopy = `${shareContent.title}\n\n${shareContent.message}`;
          await navigator.clipboard.writeText(textToCopy);
          Alert.alert('Sucesso!', 'Conte√∫do copiado para a √°rea de transfer√™ncia!');
        }
      } else {
        // Para mobile, usar React Native Share
        const result = await Share.share(shareContent);
        
        if (result.action === Share.sharedAction) {
          if (result.activityType) {
            // Compartilhado com um tipo espec√≠fico de atividade
            console.log('Compartilhado com:', result.activityType);
          } else {
            // Compartilhado
            console.log('Evento compartilhado com sucesso!');
          }
        } else if (result.action === Share.dismissedAction) {
          // Compartilhamento cancelado
          console.log('Compartilhamento cancelado');
        }
      }
    } catch (error) {
      console.error('Erro ao compartilhar:', error);
      Alert.alert('Erro', 'N√£o foi poss√≠vel compartilhar o evento. Tente novamente.');
    }
  };

  const renderMediaCard = (media: MediaItem) => (
    <View key={media.id} style={[styles.mediaCard, { backgroundColor: theme.card }]}>
      {media.type === 'image' ? (
        <Image source={{ uri: media.url }} style={styles.mediaImage} resizeMode="cover" />
      ) : (
        <View style={styles.videoContainer}>
          <Image source={{ uri: media.thumbnail }} style={styles.mediaImage} resizeMode="cover" />
          <View style={styles.playButton}>
            <Ionicons name="play" size={24} color="#fff" />
          </View>
        </View>
      )}
    </View>
  );

  return (
    
    <Modal
      animationType="slide"
      transparent={true}
      visible={visible}
      onRequestClose={onClose}
    >
      <View style={styles.modalOverlay}>
        <View style={[styles.modalContainer, { backgroundColor: theme.background }]}>
          {/* Header com bot√£o de fechar */}
          <View style={styles.modalHeader}>
            <Text style={[styles.modalTitle, { color: theme.text }]}>{event.title}</Text>
            <TouchableOpacity onPress={onClose} style={styles.closeButton}>
              <Ionicons name="close" size={24} color={theme.text} />
            </TouchableOpacity>
          </View>

          <ScrollView style={styles.modalContent} showsVerticalScrollIndicator={false}>
            {/* Foto do evento */}
            <View style={styles.eventImageContainer}>
              <Image
                source={{ uri: headerImage || 'https://picsum.photos/400/250?random=event' }}
                style={styles.eventImage}
                resizeMode="cover"
              />
            </View>

            {/* Local do evento */}
            <View style={styles.locationContainer}>
              <Ionicons name="location-outline" size={20} color={theme.primary} />
              <Text style={[styles.locationText, { color: theme.text }]}>
                {event.location.name || 'Local n√£o informado'}
              </Text>
            </View>

            {/* Bot√µes de a√ß√£o */}
            <View style={styles.actionButtonsContainer}>
              {/* S√≥ mostrar bot√£o de rotas se o evento n√£o for virtual */}
              {event.event_type !== 'virtual' && (
                <TouchableOpacity
                  style={[styles.actionButton, { backgroundColor: theme.primary }]}
                  onPress={handleRotas}
                >
                  <MaterialIcons name="directions" size={24} color="#fff" />
                  <Text style={styles.actionButtonText}>Rotas</Text>
                </TouchableOpacity>
              )}

              <TouchableOpacity
                style={[styles.actionButton, { backgroundColor: theme.card, borderColor: theme.border, borderWidth: 1 }]}
                onPress={handleFavoritar}
              >
                <FontAwesome 
                  name={isFavorited ? "heart" : "heart-o"} 
                  size={24} 
                  color={isFavorited ? "#ff4757" : theme.primary} 
                />
                <Text style={[styles.actionButtonText, { color: isFavorited ? "#ff4757" : theme.primary }]}>
                  {isFavorited ? "Favoritado" : "Favoritar"}
                </Text>
              </TouchableOpacity>

              <TouchableOpacity
                style={[styles.actionButton, { backgroundColor: theme.card, borderColor: theme.border, borderWidth: 1 }]}
                onPress={handleCompartilhar}
              >
                <Ionicons name="share-outline" size={24} color={theme.primary} />
                <Text style={[styles.actionButtonText, { color: theme.primary }]}>Compartilhar</Text>
              </TouchableOpacity>
            </View>

            {/* Se√ß√£o de Fotos e V√≠deos */}
            <View style={styles.mediaSection}>
              <Text style={[styles.sectionTitle, { color: theme.text }]}>Fotos e V√≠deos</Text>
              <ScrollView horizontal showsHorizontalScrollIndicator={false} style={styles.mediaScrollView}>
                {sampleMedia.map(renderMediaCard)}
              </ScrollView>
            </View>

            {/* Informa√ß√µes adicionais do evento */}
            <View style={styles.eventDetails}>
              <Text style={[styles.detailLabel, { color: theme.textSecondary }]}>Descri√ß√£o:</Text>
              <Text style={[styles.detailText, { color: theme.text }]}>{event.description}</Text>
              
              <Text style={[styles.detailLabel, { color: theme.textSecondary }]}>Data:</Text>
              <Text style={[styles.detailText, { color: theme.text }]}>
                {new Date(event.date).toLocaleDateString('pt-BR', {
                  day: '2-digit',
                  month: '2-digit',
                  year: 'numeric',
                  hour: '2-digit',
                  minute: '2-digit'
                })}
              </Text>
            </View>
          </ScrollView>
        </View>
      </View>
    </Modal>
  );
};

const styles = StyleSheet.create({
  modalOverlay: {
    flex: 1,
    backgroundColor: 'rgba(0, 0, 0, 0.5)',
    justifyContent: 'flex-end',
  },
  modalContainer: {
    height: '90%',
    borderTopLeftRadius: 20,
    borderTopRightRadius: 20,
    paddingTop: 20,
  },
  modalHeader: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    alignItems: 'center',
    paddingHorizontal: 20,
    paddingBottom: 15,
    borderBottomWidth: 1,
    borderBottomColor: 'rgba(0, 0, 0, 0.1)',
  },
  modalTitle: {
    fontSize: 18,
    fontWeight: 'bold',
    flex: 1,
    marginRight: 10,
  },
  closeButton: {
    padding: 5,
  },
  modalContent: {
    flex: 1,
    paddingHorizontal: 20,
  },
  eventImageContainer: {
    marginTop: 15,
    borderRadius: 12,
    overflow: 'hidden',
  },
  eventImage: {
    width: '100%',
    height: 200,
  },
  locationContainer: {
    flexDirection: 'row',
    alignItems: 'center',
    marginTop: 15,
    paddingVertical: 10,
  },
  locationText: {
    marginLeft: 8,
    fontSize: 16,
    flex: 1,
  },
  actionButtonsContainer: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    marginTop: 20,
    marginBottom: 30,
  },
  actionButton: {
    flex: 1,
    flexDirection: 'row',
    alignItems: 'center',
    justifyContent: 'center',
    paddingVertical: 12,
    paddingHorizontal: 8,
    borderRadius: 8,
    marginHorizontal: 4,
  },
  actionButtonText: {
    marginLeft: 6,
    fontSize: 12,
    fontWeight: '600',
    color: '#fff',
  },
  mediaSection: {
    marginBottom: 30,
  },
  sectionTitle: {
    fontSize: 18,
    fontWeight: 'bold',
    marginBottom: 15,
  },
  mediaScrollView: {
    paddingLeft: 0,
  },
  mediaCard: {
    width: 120,
    height: 80,
    borderRadius: 8,
    marginRight: 10,
    overflow: 'hidden',
  },
  mediaImage: {
    width: '100%',
    height: '100%',
  },
  videoContainer: {
    position: 'relative',
    width: '100%',
    height: '100%',
  },
  playButton: {
    position: 'absolute',
    top: '50%',
    left: '50%',
    transform: [{ translateX: -12 }, { translateY: -12 }],
    backgroundColor: 'rgba(0, 0, 0, 0.6)',
    borderRadius: 12,
    padding: 4,
  },
  eventDetails: {
    marginBottom: 30,
  },
  detailLabel: {
    fontSize: 14,
    fontWeight: '600',
    marginTop: 15,
    marginBottom: 5,
  },
  detailText: {
    fontSize: 16,
    lineHeight: 22,
  },
});

export default EventModal;
